<template>
    <div class="sidebar" :class="{ 'collapsed': isCollapsed }" @mouseenter="isCollapsed = false" @mouseleave="isCollapsed = true">
        <div class="logo" v-if="!isCollapsed">
            <svg width="123" height="32" viewBox="0 0 123 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M46.28 24C46.104 24 45.96 23.944 45.848 23.832C45.736 23.72 45.68 23.576 45.68 23.4V7.8C45.68 7.624 45.736 7.48 45.848 7.368C45.96 7.256 46.104 7.2 46.28 7.2H49.376C49.552 7.2 49.696 7.256 49.808 7.368C49.92 7.48 49.976 7.624 49.976 7.8V13.584H55.904V7.8C55.904 7.624 55.96 7.48 56.072 7.368C56.184 7.256 56.328 7.2 56.504 7.2H59.6C59.776 7.2 59.92 7.256 60.032 7.368C60.144 7.48 60.2 7.624 60.2 7.8V23.4C60.2 23.576 60.144 23.72 60.032 23.832C59.92 23.944 59.776 24 59.6 24H56.504C56.328 24 56.184 23.944 56.072 23.832C55.96 23.72 55.904 23.576 55.904 23.4V17.424H49.976V23.4C49.976 23.576 49.92 23.72 49.808 23.832C49.696 23.944 49.552 24 49.376 24H46.28ZM69.9708 24.24C68.7068 24.24 67.5548 24.064 66.5148 23.712C65.4908 23.344 64.6588 22.816 64.0188 22.128C63.3788 21.44 63.0028 20.6 62.8908 19.608C62.8748 19.464 62.9148 19.344 63.0108 19.248C63.1228 19.152 63.2508 19.104 63.3948 19.104H66.5148C66.7068 19.104 66.8508 19.136 66.9468 19.2C67.0428 19.264 67.1388 19.376 67.2348 19.536C67.3948 19.904 67.6828 20.208 68.0988 20.448C68.5308 20.688 69.1228 20.808 69.8748 20.808C70.8028 20.808 71.5228 20.528 72.0348 19.968C72.5628 19.408 72.8268 18.616 72.8268 17.592V17.208H68.1708C67.9948 17.208 67.8508 17.144 67.7388 17.016C67.6268 16.888 67.5708 16.736 67.5708 16.56V14.64C67.5708 14.464 67.6268 14.312 67.7388 14.184C67.8508 14.056 67.9948 13.992 68.1708 13.992H72.8268V13.656C72.8268 12.536 72.5708 11.72 72.0588 11.208C71.5468 10.68 70.8188 10.416 69.8748 10.416C69.1228 10.416 68.5308 10.544 68.0988 10.8C67.6828 11.056 67.4188 11.36 67.3068 11.712C67.2108 11.872 67.1228 11.984 67.0428 12.048C66.9628 12.112 66.8268 12.144 66.6348 12.144H63.4908C63.3468 12.144 63.2188 12.096 63.1068 12C62.9948 11.888 62.9468 11.76 62.9628 11.616C63.0908 10.576 63.4748 9.712 64.1148 9.024C64.7548 8.336 65.5788 7.824 66.5868 7.488C67.5948 7.136 68.7228 6.96 69.9708 6.96C71.3788 6.96 72.6188 7.208 73.6908 7.704C74.7788 8.184 75.6348 8.928 76.2588 9.936C76.8988 10.928 77.2428 12.208 77.2908 13.776C77.3068 14.272 77.3148 14.704 77.3148 15.072C77.3308 15.424 77.3308 15.784 77.3148 16.152C77.3148 16.504 77.3068 16.928 77.2908 17.424C77.2428 19.008 76.9068 20.304 76.2828 21.312C75.6588 22.32 74.8108 23.064 73.7388 23.544C72.6668 24.008 71.4108 24.24 69.9708 24.24ZM80.4446 18.528C80.2686 18.528 80.1246 18.472 80.0126 18.36C79.9006 18.248 79.8446 18.104 79.8446 17.928V15.672C79.8446 15.496 79.9006 15.352 80.0126 15.24C80.1246 15.128 80.2686 15.072 80.4446 15.072H87.9566C88.1326 15.072 88.2766 15.128 88.3886 15.24C88.5006 15.352 88.5566 15.496 88.5566 15.672V17.928C88.5566 18.104 88.5006 18.248 88.3886 18.36C88.2766 18.472 88.1326 18.528 87.9566 18.528H80.4446ZM95.8901 24C95.7141 24 95.5701 23.944 95.4581 23.832C95.3461 23.72 95.2901 23.576 95.2901 23.4V10.968H91.0181C90.8421 10.968 90.6981 10.912 90.5861 10.8C90.4741 10.672 90.4181 10.528 90.4181 10.368V7.8C90.4181 7.624 90.4741 7.48 90.5861 7.368C90.6981 7.256 90.8421 7.2 91.0181 7.2H103.93C104.106 7.2 104.25 7.256 104.362 7.368C104.474 7.48 104.53 7.624 104.53 7.8V10.368C104.53 10.528 104.474 10.672 104.362 10.8C104.25 10.912 104.106 10.968 103.93 10.968H99.6581V23.4C99.6581 23.576 99.6021 23.72 99.4901 23.832C99.3781 23.944 99.2341 24 99.0581 24H95.8901ZM113.575 24.24C112.103 24.24 110.823 24 109.735 23.52C108.647 23.04 107.799 22.32 107.191 21.36C106.583 20.384 106.247 19.168 106.183 17.712C106.167 17.024 106.159 16.336 106.159 15.648C106.159 14.96 106.167 14.264 106.183 13.56C106.247 12.12 106.583 10.912 107.191 9.936C107.815 8.944 108.671 8.2 109.759 7.704C110.847 7.208 112.119 6.96 113.575 6.96C115.015 6.96 116.279 7.208 117.367 7.704C118.471 8.2 119.335 8.944 119.959 9.936C120.583 10.912 120.919 12.12 120.967 13.56C120.999 14.264 121.015 14.96 121.015 15.648C121.015 16.336 120.999 17.024 120.967 17.712C120.903 19.168 120.567 20.384 119.959 21.36C119.351 22.32 118.503 23.04 117.415 23.52C116.327 24 115.047 24.24 113.575 24.24ZM113.575 20.784C114.423 20.784 115.111 20.528 115.639 20.016C116.183 19.504 116.471 18.688 116.503 17.568C116.535 16.864 116.551 16.2 116.551 15.576C116.551 14.952 116.535 14.304 116.503 13.632C116.471 12.88 116.327 12.272 116.071 11.808C115.831 11.328 115.495 10.976 115.063 10.752C114.631 10.528 114.135 10.416 113.575 10.416C113.031 10.416 112.543 10.528 112.111 10.752C111.679 10.976 111.335 11.328 111.079 11.808C110.823 12.272 110.679 12.88 110.647 13.632C110.631 14.304 110.623 14.952 110.623 15.576C110.623 16.2 110.631 16.864 110.647 17.568C110.695 18.688 110.983 19.504 111.511 20.016C112.039 20.528 112.727 20.784 113.575 20.784Z" fill="#0973FB"/>
                <g clip-path="url(#clip0_310_261)">
                <path d="M27.2 32H4.8C2.08 32 0 29.92 0 27.2V4.8C0 2.08 2.08 0 4.8 0H27.2C29.92 0 32 2.08 32 4.8V27.2C32 29.92 29.92 32 27.2 32Z" fill="#0973FB" fill-opacity="0.3"/>
                <path d="M17.8667 22.1667H8.26675C7.30675 22.1667 6.66675 22.8 6.66675 23.75C6.66675 24.7 7.30675 25.3333 8.26675 25.3333H17.8667C18.8267 25.3333 19.4667 24.7 19.4667 23.75C19.4667 22.8 18.8267 22.1667 17.8667 22.1667ZM8.26675 19H11.4667C12.4267 19 13.0667 18.3667 13.0667 17.4167C13.0667 16.4667 12.4267 15.8333 11.4667 15.8333H8.26675C7.30675 15.8333 6.66675 16.4667 6.66675 17.4167C6.66675 18.3667 7.30675 19 8.26675 19ZM9.86675 0V11.0833C9.86675 11.4 9.86675 11.5583 10.0267 11.875C10.5067 12.6667 11.4667 12.825 12.2667 12.5083L16.2667 10.2917L20.2667 12.5083C20.5867 12.6667 20.7467 12.6667 21.0667 12.6667C22.0267 12.6667 22.6667 12.0333 22.6667 11.0833V0H9.86675Z" fill="#0973FB"/>
                </g>
                <defs>
                <clipPath id="clip0_310_261">
                <rect width="32" height="32" fill="white"/>
                </clipPath>
                </defs>
            </svg>
        </div>
        <div class="logo" v-if="isCollapsed">
            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <mask id="mask0_726_220" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="32" height="32">
                <path d="M32 0H0V32H32V0Z" fill="white"/>
                </mask>
                <g mask="url(#mask0_726_220)">
                <path d="M27.2 32H4.8C2.08 32 0 29.92 0 27.2V4.8C0 2.08 2.08 0 4.8 0H27.2C29.92 0 32 2.08 32 4.8V27.2C32 29.92 29.92 32 27.2 32Z" fill="#0973FB" fill-opacity="0.3"/>
                <path d="M17.8669 22.1667H8.26699C7.30699 22.1667 6.66699 22.8 6.66699 23.75C6.66699 24.7 7.30699 25.3333 8.26699 25.3333H17.8669C18.8269 25.3333 19.4669 24.7 19.4669 23.75C19.4669 22.8 18.8269 22.1667 17.8669 22.1667ZM8.26699 19H11.4669C12.4269 19 13.0669 18.3667 13.0669 17.4167C13.0669 16.4667 12.4269 15.8333 11.4669 15.8333H8.26699C7.30699 15.8333 6.66699 16.4667 6.66699 17.4167C6.66699 18.3667 7.30699 19 8.26699 19ZM9.86699 0V11.0833C9.86699 11.4 9.86699 11.5583 10.0269 11.875C10.5069 12.6667 11.4669 12.825 12.2669 12.5083L16.2669 10.2917L20.2669 12.5083C20.5869 12.6667 20.7469 12.6667 21.0669 12.6667C22.0269 12.6667 22.6669 12.0333 22.6669 11.0833V0H9.86699Z" fill="#0973FB"/>
                </g>
            </svg>
        </div>
        
        <div class="division-info">
            <h3 v-if="!isCollapsed">{{ staffUser?.division?.name || 'Loading...' }}</h3>
            <p v-if="!isCollapsed" class="staff-name">{{ staffUser?.name }}</p>
        </div>
        
        <nav class="nav-menu">
        <router-link to="/" class="nav-item" :title="isCollapsed ? 'Dashboard' : ''">
            <div class="icon">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 2.14286C0 1.57454 0.225765 1.02949 0.627628 0.627628C1.02949 0.225765 1.57454 0 2.14286 0H6.42857C6.99689 0 7.54194 0.225765 7.9438 0.627628C8.34566 1.02949 8.57143 1.57454 8.57143 2.14286V6.42857C8.57143 6.99689 8.34566 7.54194 7.9438 7.9438C7.54194 8.34566 6.99689 8.57143 6.42857 8.57143H2.14286C1.57454 8.57143 1.02949 8.34566 0.627628 7.9438C0.225765 7.54194 0 6.99689 0 6.42857V2.14286ZM11.4286 2.14286C11.4286 1.57454 11.6543 1.02949 12.0562 0.627628C12.4581 0.225765 13.0031 0 13.5714 0H17.8571C18.4255 0 18.9705 0.225765 19.3724 0.627628C19.7742 1.02949 20 1.57454 20 2.14286V6.42857C20 6.99689 19.7742 7.54194 19.3724 7.9438C18.9705 8.34566 18.4255 8.57143 17.8571 8.57143H13.5714C13.0031 8.57143 12.4581 8.34566 12.0562 7.9438C11.6543 7.54194 11.4286 6.99689 11.4286 6.42857V2.14286ZM0 13.5714C0 13.0031 0.225765 12.4581 0.627628 12.0562C1.02949 11.6543 1.57454 11.4286 2.14286 11.4286H6.42857C6.99689 11.4286 7.54194 11.6543 7.9438 12.0562C8.34566 12.4581 8.57143 13.0031 8.57143 13.5714V17.8571C8.57143 18.4255 8.34566 18.9705 7.9438 19.3724C7.54194 19.7742 6.99689 20 6.42857 20H2.14286C1.57454 20 1.02949 19.7742 0.627628 19.3724C0.225765 18.9705 0 18.4255 0 17.8571V13.5714ZM11.4286 13.5714C11.4286 13.0031 11.6543 12.4581 12.0562 12.0562C12.4581 11.6543 13.0031 11.4286 13.5714 11.4286H17.8571C18.4255 11.4286 18.9705 11.6543 19.3724 12.0562C19.7742 12.4581 20 13.0031 20 13.5714V17.8571C20 18.4255 19.7742 18.9705 19.3724 19.3724C18.9705 19.7742 18.4255 20 17.8571 20H13.5714C13.0031 20 12.4581 19.7742 12.0562 19.3724C11.6543 18.9705 11.4286 18.4255 11.4286 17.8571V13.5714Z" fill="#1F1F1F"/>
                </svg>
            </div>
            <span v-if="!isCollapsed">Dashboard</span>
        </router-link>
        <router-link to="/delivered-to-ub" class="nav-item" :title="isCollapsed ? 'Улаанбаатарт ирсэн' : ''">
            <div class="icon">
                <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.9999 0V12.5C19.9999 14.4344 18.4343 16 16.4999 16C14.5937 16 13.0468 14.4781 12.9999 12.5844L1.51244 15.7156C0.978066 15.8594 0.431191 15.5469 0.284316 15.0125C0.137441 14.4781 0.453066 13.9313 0.987441 13.7844L10.9999 11.0562V2C10.9999 0.896875 11.8968 0 12.9999 0H19.9999ZM17.9999 12.5C17.9999 12.1022 17.8419 11.7206 17.5606 11.4393C17.2793 11.158 16.8978 11 16.4999 11C16.1021 11 15.7206 11.158 15.4393 11.4393C15.158 11.7206 14.9999 12.1022 14.9999 12.5C14.9999 12.8978 15.158 13.2794 15.4393 13.5607C15.7206 13.842 16.1021 14 16.4999 14C16.8978 14 17.2793 13.842 17.5606 13.5607C17.8419 13.2794 17.9999 12.8978 17.9999 12.5ZM0.721816 6.49062C0.578066 5.95625 0.896816 5.40937 1.42807 5.26562L2.87807 4.87813L3.52494 7.29375C3.59682 7.55937 3.87182 7.71875 4.13744 7.64687L5.10307 7.3875C5.36869 7.31562 5.52807 7.04063 5.45619 6.775L4.80932 4.35938L6.25932 3.97187C6.79369 3.82812 7.34057 4.14687 7.48432 4.67812L8.77807 9.50625C8.92182 10.0406 8.60307 10.5875 8.07182 10.7312L3.24057 12.0281C2.70619 12.1719 2.15932 11.8531 2.01557 11.3219L0.721816 6.49062Z" fill="#0973FB"/>
                </svg>
            </div>
            <span v-if="!isCollapsed">Улаанбаатарт ирсэн</span>
        </router-link>
        <router-link to="/delivered" class="nav-item" :title="isCollapsed ? 'Ачаа хүлээлгэж өгөх' : ''">
            <div class="icon">
                <svg width="20" height="19" viewBox="0 0 20 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9629 14.4767C10.9628 14.4768 10.9628 14.4768 10.7865 13.5953L10.9629 14.4767C10.8095 14.5074 10.6507 14.4976 10.5023 14.4481L7.80564 13.5492C7.33468 13.3922 7.08015 12.8832 7.23714 12.4122C7.39413 11.9412 7.90318 11.6867 8.37414 11.8437L10.8448 12.6673L10.9033 12.6557C11.09 12.6187 11.3575 12.5659 11.6813 12.5025C12.3288 12.3758 13.2021 12.2068 14.104 12.0377C15.005 11.8688 15.9389 11.6989 16.7062 11.571C17.4305 11.4503 18.1095 11.3481 18.427 11.3481C18.7916 11.3481 19.1979 11.4393 19.5245 11.725C19.8668 12.0245 20 12.4313 20 12.8088C20 13.4955 19.581 14.1619 19.0626 14.6804C18.5754 15.1676 17.5136 16.1102 16.2129 16.938C14.9373 17.7497 13.2965 18.5392 11.6854 18.5392C10.1849 18.5392 8.94651 18.1617 7.918 17.8189C7.82147 17.7867 7.72775 17.7553 7.63659 17.7247C6.70776 17.4131 6.04532 17.1908 5.39326 17.1908H0.898876C0.402441 17.1908 0 16.7884 0 16.292C0 15.7955 0.402441 15.3931 0.898876 15.3931H5.39326C6.35944 15.3931 7.31564 15.7171 8.1804 16.0102C8.28379 16.0452 8.38587 16.0798 8.4865 16.1134C9.48046 16.4447 10.4893 16.7414 11.6854 16.7414C12.7709 16.7414 14.0515 16.1825 15.2478 15.4213C16.419 14.6759 17.3797 13.8208 17.7914 13.4092C17.8678 13.3327 17.9321 13.26 17.9854 13.1924C17.7424 13.2255 17.4109 13.2761 17.0017 13.3443C16.2521 13.4693 15.3321 13.6365 14.4353 13.8047C13.5395 13.9726 12.6712 14.1407 12.0265 14.2668C11.7043 14.3299 11.4381 14.3824 11.2526 14.4191L10.9629 14.4767Z" fill="#1F1F1F"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.91981 1.08856C6.25695 0.751418 6.71422 0.562012 7.19101 0.562012H17.9775C18.4543 0.562012 18.9116 0.751417 19.2487 1.08856C19.5859 1.42571 19.7753 1.88297 19.7753 2.35976V9.55078C19.7753 10.0472 19.3728 10.4497 18.8764 10.4497C18.38 10.4497 17.9775 10.0472 17.9775 9.55078V2.35976L7.19101 2.35976V5.95527C7.19101 6.45171 6.78857 6.85415 6.29214 6.85415C5.7957 6.85415 5.39326 6.45171 5.39326 5.95527V2.35976C5.39326 1.88297 5.58266 1.42571 5.91981 1.08856ZM3.25496 10.2189C2.54962 10.6219 1.93793 11.1312 1.53448 11.5347C1.18345 11.8857 0.614308 11.8857 0.263275 11.5347C-0.0877583 11.1837 -0.0877583 10.6145 0.263275 10.2635C0.758697 9.76807 1.49532 9.1538 2.36302 8.65797C3.22331 8.16638 4.27935 7.75302 5.39326 7.75302C5.96402 7.75302 6.66015 7.89073 7.3487 8.08017C8.05266 8.27385 8.81008 8.53908 9.52508 8.83091C10.2392 9.12239 10.9278 9.44725 11.4913 9.76495C11.7727 9.92361 12.034 10.0867 12.2561 10.2491C12.4666 10.4031 12.6906 10.5914 12.8539 10.8092C13.2584 11.3485 13.2184 11.9461 13.0502 12.3945C12.8943 12.8103 12.6115 13.1656 12.3692 13.424C12.1164 13.6937 11.8465 13.9216 11.6467 14.0783C11.5453 14.1579 11.4581 14.222 11.3951 14.2671C11.3635 14.2897 11.3378 14.3076 11.3191 14.3205L11.2965 14.336L11.2893 14.3408L11.2869 14.3425L11.2855 14.3434C11.2853 14.3435 11.2851 14.3436 10.7865 13.5957L11.2855 14.3434C10.8724 14.6188 10.314 14.5074 10.0386 14.0943C9.7635 13.6817 9.87463 13.1243 10.2867 12.8486L10.2872 12.8483L10.2876 12.848C10.2877 12.8479 10.2875 12.8481 10.2876 12.848L10.2881 12.8476L10.299 12.8402C10.3096 12.8329 10.3267 12.821 10.3491 12.805C10.394 12.7728 10.4597 12.7246 10.5373 12.6637C10.6956 12.5395 10.8893 12.3741 11.0577 12.1944C11.2048 12.0376 11.2961 11.9081 11.3427 11.8171C11.3052 11.7843 11.2563 11.7452 11.1946 11.7C11.0471 11.5921 10.8502 11.4673 10.6084 11.331C10.1256 11.0588 9.50801 10.7657 8.84571 10.4954C8.1843 10.2254 7.4951 9.985 6.8718 9.81352C6.23311 9.63779 5.72137 9.55078 5.39326 9.55078C4.70942 9.55078 3.9677 9.81158 3.25496 10.2189Z" fill="#1F1F1F"/>
                    <path d="M10.3372 1.46094H14.8315V5.50588H10.3372V1.46094Z" fill="#1F1F1F"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.43823 1.46089C9.43823 0.964452 9.84067 0.562012 10.3371 0.562012H14.8315C15.3279 0.562012 15.7304 0.964452 15.7304 1.46089V5.50583C15.7304 6.00227 15.3279 6.40471 14.8315 6.40471H10.3371C9.84067 6.40471 9.43823 6.00227 9.43823 5.50583V1.46089ZM11.236 2.35976V4.60696H13.9326V2.35976H11.236Z" fill="#1F1F1F"/>
                </svg>
            </div>
            <span v-if="!isCollapsed">Ачаа хүлээлгэж өгөх</span>
        </router-link>
        <router-link to="/register-cargo" class="nav-item" :title="isCollapsed ? 'Хэрэглэгчгүй карго' : ''">
            <div class="icon">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM15 11H11V15H9V11H5V9H9V5H11V9H15V11Z" fill="currentColor"/>
                </svg>
            </div>
            <span v-if="!isCollapsed">Хэрэглэгчгүй карго</span>
        </router-link>
        <router-link to="/search-by-track" class="nav-item" :title="isCollapsed ? 'Трак кодоор Хайх' : ''">
            <div class="icon">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_566_14)">
                <path d="M0.849027 17.0268C1.31793 17.0268 1.69805 16.6466 1.69805 16.1778V1.46328C1.69805 0.994377 1.3179 0.614258 0.849027 0.614258C0.380158 0.614258 0 0.994377 0 1.46328V16.1778C0 16.6467 0.380158 17.0268 0.849027 17.0268Z" fill="black"/>
                <path d="M4.24551 11.9333C4.71442 11.9333 5.09454 11.5531 5.09454 11.0843V1.46328C5.09454 0.994376 4.71438 0.614258 4.24551 0.614258C3.77664 0.614258 3.39648 0.994416 3.39648 1.46328V11.0843C3.39645 11.5531 3.7766 11.9333 4.24551 11.9333Z" fill="black"/>
                <path d="M10.8902 11.9195C11.1444 11.4575 11.4838 11.0486 11.8875 10.7147V1.46328C11.8875 0.994377 11.5073 0.614258 11.0385 0.614258C10.5696 0.614258 10.1895 0.994416 10.1895 1.46328V11.0843C10.1894 11.5025 10.4921 11.8493 10.8902 11.9195Z" fill="black"/>
                <path d="M15.282 9.83312V1.46328C15.282 0.994377 14.9019 0.614258 14.433 0.614258C13.9641 0.614258 13.584 0.994416 13.584 1.46328V9.87261C13.8874 9.80175 14.2031 9.76308 14.5277 9.76308C14.7854 9.76316 15.0372 9.78793 15.282 9.83312Z" fill="black"/>
                <path d="M18.6785 13.9009V1.46328C18.6785 0.994377 18.2984 0.614258 17.8295 0.614258C17.3606 0.614258 16.9805 0.994416 16.9805 1.46328V10.5679C18.0061 11.3216 18.6743 12.5343 18.6785 13.9009Z" fill="black"/>
                <path d="M4.24551 17.0268C4.71442 17.0268 5.09454 16.6466 5.09454 16.1777V14.4804C5.09454 14.0115 4.71438 13.6313 4.24551 13.6313C3.77664 13.6313 3.39648 14.0115 3.39648 14.4804V16.1777C3.39645 16.6466 3.7766 17.0268 4.24551 17.0268Z" fill="black"/>
                <path d="M7.642 11.9333C8.1109 11.9333 8.49102 11.5531 8.49102 11.0843V1.46328C8.49102 0.994376 8.11086 0.614258 7.642 0.614258C7.17309 0.614258 6.79297 0.994416 6.79297 1.46328V11.0843C6.79297 11.5531 7.17309 11.9333 7.642 11.9333Z" fill="black"/>
                <path d="M7.642 17.0268C8.1109 17.0268 8.49102 16.6466 8.49102 16.1777V14.4804C8.49102 14.0115 8.11086 13.6313 7.642 13.6313C7.17309 13.6313 6.79297 14.0115 6.79297 14.4804V16.1777C6.79297 16.6466 7.17309 17.0268 7.642 17.0268Z" fill="black"/>
                <path d="M11.2105 12.4403C10.9173 12.9732 10.75 13.5848 10.75 14.2348C10.75 16.2942 12.4254 17.9696 14.4848 17.9696C15.2387 17.9696 15.9407 17.7444 16.5284 17.3586L18.1039 18.9343C18.2531 19.0834 18.4486 19.158 18.6441 19.158C18.8395 19.158 19.0351 19.0835 19.1842 18.9342C19.4825 18.6359 19.4825 18.1522 19.1842 17.8539L17.6086 16.2782C17.9942 15.6906 18.2195 14.9887 18.2195 14.2348C18.2195 14.2308 18.2191 14.227 18.2191 14.223C18.2153 12.9934 17.6141 11.9023 16.6913 11.2241C16.2464 10.8972 15.7269 10.6669 15.1634 10.5629C14.9431 10.5223 14.7165 10.5 14.4846 10.5C14.1925 10.5 13.9085 10.5348 13.6355 10.5986C13.0654 10.7317 12.5446 10.9947 12.1076 11.3562C11.7446 11.6567 11.4393 12.0246 11.2105 12.4403ZM14.4848 12.0279C15.6978 12.0279 16.685 13.0115 16.6914 14.2231C16.6915 14.227 16.6918 14.2309 16.6918 14.2348C16.6918 14.2362 16.6917 14.2374 16.6917 14.2388C16.6895 15.4539 15.7004 16.4418 14.4848 16.4418C13.2679 16.4418 12.2778 15.4517 12.2778 14.2348C12.2778 13.0179 13.2679 12.0279 14.4848 12.0279Z" fill="black"/>
                </g>
                <defs>
                <clipPath id="clip0_566_14">
                <rect width="20" height="20" fill="white"/>
                </clipPath>
                </defs>
                </svg>
            </div>
            <span v-if="!isCollapsed">Трак кодоор Хайх</span>
        </router-link>
        <router-link to="/all-user-cargos" class="nav-item" :title="isCollapsed ? 'Огноогоор шүүх' : ''">
            <div class="icon">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_570_9)">
                <path d="M1.53625e-06 11.5918V9.78338C1.53625e-06 8.10519 -0.00202366 6.75103 0.140998 5.68812C0.287695 4.5979 0.602465 3.67305 1.33856 2.93755L1.37322 2.90338C2.10364 2.19228 3.01734 1.88526 4.09141 1.74098C5.15519 1.59808 6.51047 1.6001 8.19005 1.6001C8.71484 1.6001 9.14028 2.02518 9.14028 2.54954C9.14028 3.0739 8.71484 3.49897 8.19005 3.49898C6.45675 3.49898 5.25235 3.50099 4.34463 3.62293C3.47801 3.73935 3.02093 3.94968 2.69767 4.26515L2.68237 4.28025C2.35823 4.60413 2.14287 5.06149 2.02451 5.94114C1.90247 6.8481 1.90045 8.05151 1.90045 9.78338V11.5918C1.90045 13.3237 1.90247 14.5271 2.02451 15.4341C2.14102 16.3 2.35153 16.7567 2.66724 17.0796L2.68237 17.0949L2.69767 17.11C3.02093 17.4255 3.47801 17.6358 4.34463 17.7523C5.25235 17.8742 6.45675 17.8762 8.19005 17.8762H11.8099L11.8345 17.8765C12.3479 17.8895 12.7602 18.3095 12.7602 18.8257C12.7602 19.3418 12.3479 19.7618 11.8345 19.7748L11.8099 19.7751H8.19005C6.51048 19.7751 5.15519 19.7771 4.09141 19.6342C3.00029 19.4876 2.07467 19.1731 1.33856 18.4376V18.4376C0.602462 17.7021 0.287691 16.7773 0.140998 15.6871C-0.00202375 14.6242 1.53625e-06 13.27 1.53625e-06 11.5918ZM18.0995 11.5918V9.78338C18.0995 8.0515 18.0975 6.8481 17.9755 5.94114C17.8589 5.07524 17.6485 4.61853 17.3327 4.29554L17.3176 4.28028L17.3176 4.28025C16.9935 3.9564 16.5358 3.7412 15.6554 3.62293C14.8044 3.50861 13.6926 3.4997 12.1288 3.49903L11.8099 3.49898L11.7854 3.49866C11.272 3.48566 10.8597 3.06571 10.8597 2.54954C10.8597 2.02518 11.2852 1.6001 11.8099 1.6001L12.4247 1.60028C13.8238 1.60185 14.9778 1.61594 15.9086 1.74098C16.9997 1.88755 17.9253 2.20206 18.6614 2.93755H18.6614C19.3975 3.67305 19.7123 4.59791 19.859 5.68812C20.002 6.75103 20 8.10519 20 9.78338V11.5918C20 12.1162 19.5746 12.5413 19.0498 12.5413C18.525 12.5413 18.0995 12.1162 18.0995 11.5918Z" fill="black"/>
                <path d="M4.52539 2.54489V1.18031C4.52539 0.652759 4.95072 0.225098 5.47539 0.225098C6.00006 0.225098 6.42539 0.652759 6.42539 1.18031V2.54489C6.42539 3.07244 6.00006 3.5001 5.47539 3.5001C4.95072 3.5001 4.52539 3.07244 4.52539 2.54489Z" fill="black"/>
                <path d="M13.5742 2.54489V1.18031C13.5742 0.652759 13.9995 0.225098 14.5242 0.225098C15.0489 0.225098 15.4742 0.652759 15.4742 1.18031V2.54489C15.4742 3.07244 15.0489 3.5001 14.5242 3.5001C13.9995 3.5001 13.5742 3.07244 13.5742 2.54489Z" fill="black"/>
                <path d="M4.45759 6.125L4.48212 6.12532C4.99564 6.13833 5.40794 6.55853 5.40794 7.075C5.40794 7.59147 4.99564 8.01167 4.48212 8.02468L4.45759 8.025H0.950347C0.425485 8.025 0 7.59967 0 7.075C0 6.55033 0.425485 6.125 0.950347 6.125H4.45759ZM18.5997 6.125L18.6242 6.12532C19.1377 6.13832 19.55 6.55853 19.55 7.075C19.55 7.59147 19.1377 8.01168 18.6242 8.02468L18.5997 8.025H8.86992C8.34505 8.025 7.91957 7.59967 7.91957 7.075C7.91957 6.55033 8.34505 6.125 8.86992 6.125H18.5997Z" fill="black"/>
                <path d="M11.4605 12.9403C11.1673 13.4732 11 14.0848 11 14.7348C11 16.7942 12.6754 18.4696 14.7348 18.4696C15.4887 18.4696 16.1907 18.2444 16.7784 17.8586L18.3539 19.4343C18.5031 19.5834 18.6986 19.658 18.8941 19.658C19.0895 19.658 19.2851 19.5835 19.4342 19.4342C19.7325 19.1359 19.7325 18.6522 19.4342 18.3539L17.8586 16.7782C18.2442 16.1906 18.4695 15.4887 18.4695 14.7348C18.4695 14.7308 18.4691 14.727 18.4691 14.723C18.4653 13.4934 17.8641 12.4023 16.6913 11.7241C16.4964 11.3972 15.9769 11.1669 15.4134 11.0629C15.1931 11.0223 14.9665 11 14.7346 11C14.4425 11 14.1585 11.0348 13.8855 11.0986C13.3154 11.2317 12.7946 11.4947 12.3576 11.8562C11.9946 12.1567 11.6893 12.5246 11.4605 12.9403ZM14.7348 12.5279C15.9478 12.5279 16.935 13.5115 16.9414 14.7231C16.9415 14.727 16.9418 14.2309 16.9418 14.7348C16.9418 14.7362 16.9417 14.7374 16.9417 14.7388C16.9395 15.9539 15.9504 16.9418 14.7348 16.9418C13.5179 16.9418 12.5278 15.9517 12.5278 14.7348C12.5278 13.5179 13.2679 12.5279 14.7348 12.5279Z" fill="black"/>
                </g>
                <defs>
                <clipPath id="clip0_570_9">
                <rect width="20" height="20" fill="white"/>
                </clipPath>
                </defs>
                </svg>
            </div>
            <span v-if="!isCollapsed">Огноогоор шүүх</span>
        </router-link>
        <router-link to="/delivery-requests" class="nav-item" :title="isCollapsed ? 'Хүргэлтийн хүсэлт' : ''">
            <div class="icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.56443 8.73049L10.0789 10.5926C10.5639 12.3481 10.8064 13.2259 11.5194 13.6252C12.2323 14.0244 13.1374 13.7892 14.9474 13.3188L16.8673 12.8199C18.6774 12.3495 19.5824 12.1143 19.9941 11.4227C20.4057 10.7312 20.1632 9.85344 19.6782 8.09788L19.1638 6.2358C18.6788 4.48023 18.4363 3.60244 17.7233 3.20319C17.0103 2.80394 16.1052 3.03915 14.2952 3.50955L12.3753 4.00849C10.5652 4.47889 9.66021 4.71409 9.24856 5.40562C8.83692 6.09714 9.07943 6.97493 9.56443 8.73049Z" fill="black"/>
                    <path d="M2.27749 5.24694C2.38823 4.84781 2.80157 4.61402 3.2007 4.72476L4.9044 5.19744C5.82129 5.45183 6.5469 6.15866 6.80003 7.07489L8.95106 14.8609L9.10935 15.4075C9.74249 15.6438 10.2863 16.0866 10.6314 16.6747L10.9414 16.579L19.8115 14.2739C20.2124 14.1697 20.6219 14.4102 20.7261 14.8111C20.8303 15.212 20.5897 15.6214 20.1888 15.7256L11.3515 18.0223L11.0228 18.1238C11.0161 19.3947 10.1392 20.5555 8.81236 20.9003C7.22189 21.3136 5.58709 20.3982 5.16092 18.8556C4.73476 17.313 5.67861 15.7274 7.26908 15.3141C7.3479 15.2936 7.42682 15.2764 7.5057 15.2623L5.35419 7.47433C5.24592 7.08242 4.92897 6.76092 4.50338 6.64284L2.79968 6.17016C2.40054 6.05942 2.16675 5.64608 2.27749 5.24694Z" fill="black"/>
                </svg>
            </div>
            <span v-if="!isCollapsed">Хүргэлтийн хүсэлт</span>
        </router-link>
        <router-link to="/filter-by-status" class="nav-item" :title="isCollapsed ? 'Ачааны төлөвөөр шүүх' : ''">
            <div class="icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 3H5C3.58579 3 2.87868 3 2.43934 3.4122C2 3.8244 2 4.48782 2 5.81466V6.50448C2 7.54232 2 8.06124 2.2596 8.49142C2.5192 8.9216 2.99347 9.18858 3.94202 9.72255L6.85504 11.3624C7.49146 11.7206 7.80967 11.8998 8.03751 12.0976C8.51199 12.5095 8.80408 12.9935 8.93644 13.5872C9 13.8722 9 14.2058 9 14.8729V17.5424C9 18.452 9 18.9067 9.25192 19.2613C9.50385 19.6158 9.95128 19.7907 10.8462 20.1406C12.7248 20.875 13.6641 21.2422 14.3321 20.8244C15 20.4066 15 19.4519 15 17.5424V14.8729C15 14.2058 15 13.8722 15.0636 13.5872C15.1959 12.9935 15.488 12.5095 15.9625 12.0976C16.1903 11.8998 16.5085 11.7206 17.145 11.3624L20.058 9.72255C21.0065 9.18858 21.4808 8.9216 21.7404 8.49142C22 8.06124 22 7.54232 22 6.50448V5.81466C22 4.48782 22 3.8244 21.5607 3.4122C21.1213 3 20.4142 3 19 3Z" fill="black"/>
                </svg>
            </div>
            <span v-if="!isCollapsed">Ачааны төлөвөөр шүүх</span>
        </router-link>
        </nav>
        <button class="logout-btn" @click="logout" v-if="!isCollapsed">Гарах</button>
        <button class="logout-btn-icon" @click="logout" v-else title="Гарах">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM7 11H3V9H7V11ZM17 11H9V9H17V11Z" fill="currentColor"/>
            </svg>
        </button>
    </div>
</template>

<script setup>
import { useRouter } from 'vue-router'
const staffUser = ref(null)
const router = useRouter()
const isCollapsed = ref(true) // Default to collapsed

onMounted(async () => {
  try {
    const response = await fetch('/api/auth/me')
    const data = await response.json()
    staffUser.value = data
  } catch (error) {
    console.error('Error fetching user info:', error)
  }
})

async function logout() {
  try {
    await fetch('/api/auth/login', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ logout: true })
    })
    router.push('/login')
  } catch (e) {
    router.push('/login')
  }
}
</script>

<style lang="scss">
 $primary-color: #1a73e8;
 $secondary-color: #4285f4;
 $background-color: #f8f9fa;
 $border-color: #e0e0e0;
 $text-color: #202124;
 $sidebar-width: 280px;
 $sidebar-collapsed-width: 80px;

// Mixins
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin button-base {
  padding: 8px 16px;
  border-radius: 4px;
  border: none;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.2s ease;
}

.sidebar {
    position: fixed;
    left: 0;
    top: 0;
    width: $sidebar-width;
    height: 100vh;
    background: #fff;
    border-right: 1px solid rgba(9, 114, 251, 0.1);
    padding: 24px 0;
    transition: width 0.1s ease;
    z-index: 1000;
    box-shadow: 2px 0 5px rgba(0, 0, 0, 0.05);
    overflow-y: scroll;
    &.collapsed {
        width: $sidebar-collapsed-width;
        
        .logo {
            padding: 0 20px;
            justify-content: center;
            svg {
                width: 40px;
                height: auto;
            }
        }
        
        .nav-item {
            padding: 12px;
            justify-content: center;
            
            .icon {
                margin-right: 0;
            }
        }
        
        .logout-btn-icon {
            width: calc(100% - 32px);
            margin: 24px 16px 0 16px;
            padding: 10px 0;
            background: $primary-color;
            color: #fff;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
            @include flex-center;
            
            &:hover {
                opacity: 0.8;
            }
        }
    }

    .logo {
        padding: 0 24px;
        margin-bottom: 32px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: 40px;
        h1 {
        font-size: 24px;
        font-weight: 600;
        margin: 0;
        }

        p {
        color: $secondary-color;
        margin: 4px 0 0;
        }
    }

    .division-info {
        height: 50px;
        padding: 0 24px;
        margin-bottom: 1rem;
        h3 {
            font-size: 18px;
            font-weight: 500;
            color: $text-color;
            margin: 0;
        }
        .staff-name {
            font-size: 14px;
            font-weight: 400;
            color: darken($text-color, 10%);
            margin: 4px 0 0;
        }
    }

    .nav-menu {
        .nav-item {
        display: flex;
        align-items: center;
        padding: 12px 24px;
        text-decoration: none;
        color: $text-color;
        transition: background-color 0.2s;
        position: relative;
        gap: 1rem;
        
        svg{
            path{
                fill: $text-color;
            }
        }

        &:hover {
            background-color: rgba($primary-color, 0.05);
        }

        &.router-link-active {
            background-color: rgba($primary-color, 0.1);
            color: $primary-color;
            svg{
                path{
                    fill: $secondary-color;
                }
            }
        }

        .icon {
            width: 24px;
            height: 24px;
            flex-shrink: 0;
        }
        
        span {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        }
    }

    .logout-btn {
        width: calc(100% - 48px);
        margin: 24px 24px 0 24px;
        padding: 10px 0;
        background: $primary-color;
        color: #fff;
        border: none;
        border-radius: 6px;
        font-weight: 500;
        cursor: pointer;
        transition: background 0.2s;
        &:hover {
            opacity: 0.8;
        }
    }
}
</style>